<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rodenttube</title>
  <link rel="stylesheet" href="code/bootstrap.min.css">
  <script src="code/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="layout.css">
</head>
	     <body>
        <img src="images/rodenttube banner.png" class="col-12 d-lg-none" style="height: 125px;" alt="logo">
        <img src="images/rodenttube banner bs.png" class="d-none d-lg-block col-lg-6" style="height: 125px;" alt="logo">
        <img src="images/fcknaagdierlogo.jpg	" alt="logo" width="100" height="100">
        <div style="background-color: #654321;">
        <p style="text-align: center; font-weight: bold; font-size: 30px;" id="title"></p>
        <p style="text-align: center; font-weight:  bold; font-size: 30px;" id="author"></p>
        </div>
    <div id="song-box" >
      <br>
      <audio id="audio" controls="controls" autoplay>
<source id="audioSource" src=""></source>
Your browser does not support the audio format.
</audio>
      
      <div class="links">
          <button id="new-song">Volgende</a>
            <button id="pause">Pause</button>
      </div>
  </div> 
<script>
    
 	
let newsong = document.getElementById('new-song');


let songbox = document.getElementById('song-box');
  window.onload = () => {

 //Variables
       let author = new String();
       let title2;
       let songtitle = new String();
       let songtitle2;
       let authorelement = document.getElementById("author");
    let audio = document.getElementById("audio");
 let songlist =  new Array;
 let titlelement = document.getElementById("title");
 let buttonelement = document.getElementById("new-song");
 let buttonelement2 = document.getElementById("pause");
  songlist.push("muziek/tienduizendbeukennoten.ogg");
 songlist.push("muziek/cupido.ogg");
 songlist.push("muziek/DeBeverdans.ogg");
 songlist.push("muziek/DitisRodenttube.ogg");
 songlist.push("muziek/eetsla.ogg");
 songlist.push("muziek/Hijknaagtdemooiste.ogg");
 songlist.push("muziek/Iemandwaarikbomenmeekanknagen.ogg");
 songlist.push("muziek/IkbenRicardo.ogg");
 songlist.push("muziek/Ikknaaaghoutmetachtergrondmuziek.ogg");
 songlist.push("muziek/Kerstbever.ogg");
 songlist.push("muziek/Knagen.ogg");
 songlist.push("muziek/Levehetknaagdierleven.ogg");
 songlist.push("muziek/NibbleAgain.ogg");
 songlist.push("muziek/Niemandkanbeterknagendanik.ogg");
 songlist.push("muziek/RodenttubeRap.ogg");
 songlist.push("muziek/Uiteindelijkmaaktgeldniksuit.ogg");
 songlist.push("muziek/Vredewereldwijd.ogg");
 songlist.push("muziek/Wegaannaareenbos.ogg");
 songlist.push("muziek/Wedden.ogg");
 songlist.push("muziek/Wieknaagteraandieboom.ogg");
 songlist.push("muziek/Wood.ogg");
 songlist.push("muziek/Zoekdeconnectie.ogg");
 songlist.push("muziek/Zondermama.ogg");
 //Gets random song
 audio.src = songlist[Math.floor(Math.random() * songlist.length)];
  audio.autoplay = true;
 // play the audio
   audio.load();
   audio.play();
   //Gets title of song
   title2 = audio.src.replace(".ogg", "");
   //Sets title of song
 titlelement.innerHTML = title2;
 //Sets author of song
 authorelement.innerHTML = "FC Knaagdier";
 //removes song from array when it ends and plays a new one
   audio.onended = () => {
 songlist.slice(songlist.indexOf(title2.toString()), 1);
 audio.src = songlist[Math.floor(Math.random() * songlist.length)];
 audio.load();
 audio.play();
   }
 
   //Pause button
   buttonelement2.onclick = () => {
     if (audio.paused == false){
       audio.pause();
       buttonelement2.innerHTML = "Play";
     }
     else{
       audio.play();
       buttonelement2.innerHTML = "Pause";
     }
   }
   //Next song button
   buttonelement.onclick = () => {
     //Gets invisibly the full title of the song to remove it from the array
     songtitle2 = audio.src;
     songtitle2 = songtitle2.replace("http://localhost", "");
     songtitle2 = songtitle2.replace("https://rodenttube.nl", "")
     songtitle2 = songtitle2.replace(/[0-9]/g, "");
     songtitle2 = songtitle2.replace(":", "");
     songtitle2 = songtitle2.replace("/assets", "../assets");
     //removes song from array when it ends and plays a new one
     songlist.splice(songlist.indexOf(songtitle2.toString()), 1);
     //Gets random song
 audio.src = songlist[Math.floor(Math.random() * songlist.length)];
 audio.load();
 audio.play();
 //Gets title of song to display
 title2 = audio.src.replace('.ogg', '');
   titlelement.innerHTML = title2
   //Reload page if no songs are left
   if (songlist.length == 0){
     window.location.reload();
   }
 }
  }


  </script>
  </body>
</html>