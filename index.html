<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rodenttube</title>
  <link rel="stylesheet" href="layout.css">
</head>
	     <body>
        <h1>Rodenttube</h1>
        <img src="images/fcknaagdierlogo.jpg	" alt="logo" width="100" height="100">
        <p style="text-align: center; font-weight: bold;" id="title"></p>
        <p style="text-align: center; font-weight:  bold;" id="author"></p>
    <div id="song-box" >
      <br>
      <audio id="audio" controls="controls" autoplay>
<source id="audioSource" src=""></source>
Your browser does not support the audio format.
</audio>
      
      <div class="links">
          <button id="new-song">Volgende</a>
      </div>
  </div> 
<script>
    
 	
let newsong = document.getElementById('new-song');


let songbox = document.getElementById('song-box');

function setup() {
  fetch('code/nummers.json')
    .then(response => response.json())
    .then(data => {
      function getRandomsong() {
        
        const randomIdx = parseInt(Math.random() * data.length);
        const { file, author, title} = data[randomIdx];
        
        setTimeout(() => {
          document.getElementById('title').innerHTML = `${title}`;
          document.getElementById('author').innerHTML = `-${author}`;
          let audio = document.getElementById('audio');
          audio.src= `${file}`;
          audio.load();          
        })
      }
    
      newsong.addEventListener('click', getRandomsong);
    
      getRandomsong();
    }).catch(error => console.log(error.message))
}

//Load on run
document.addEventListener('DOMContentLoaded', setup); 

$(document).ready(function(){
   $('p').css('text-align','center');
});
  </script>
  </body>
</html>